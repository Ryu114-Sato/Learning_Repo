<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vuetify2.3.10 テスト</title>
    <link
      href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/@mdi/font@5.5.55/css/materialdesignicons.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/vuetify@2.3.10/dist/vuetify.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" type="text/css" href="css_68.css" />
  </head>
  <body>
    <div id="app">
      <v-app>
        <v-app-bar app> header </v-app-bar>
        <v-main>
          <v-container>
            <p class="text-h3">Intersection Observer API</p>
            <div>
              <div class="d-flex align-center text-center justify-center">
                <v-avatar
                  :color="isIntersecting ? 'green lighten-1' : 'red darken-2'"
                  class="mr-3 swing-transition"
                  size="32"
                ></v-avatar>
              </div>

              <v-responsive class="overflow-y-auto" max-height="400">
                <v-responsive
                  height="200vh"
                  class="d-flex align-center text-center pa-2"
                >
                  <v-card
                    v-intersect="onIntersect"
                    class="mx-auto"
                    max-width="336"
                  >
                    <v-card-title>Card title</v-card-title>
                    <p class="text--h5">これはスクロール検知をします。</p>
                    <v-card-text>
                      v-intersect ディレクティブは
                      <a
                        href="https://developer.mozilla.org/ja/docs/Web/API/Intersection_Observer_API"
                      >
                        Intersection Observer API
                      </a>
                      を利用します。
                      要素がユーザーのビューポート内に表示されていることを検出するための使いやすいインターフェイスを提供します。
                      これは v-lazy コンポーネントにも使用されます。
                    </v-card-text>
                  </v-card>
                </v-responsive>
              </v-responsive>
            </div>
          </v-container>
        </v-main>
        <v-footer> footer </v-footer>
      </v-app>
    </div>
  </body>
  <script src="https://cdn.jsdelivr.net/npm/vue@2.6.11/dist/vue.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vuetify@2.3.10/dist/vuetify.js"></script>
  <script>
    new Vue({
      el: "#app",
      vuetify: new Vuetify(),
      data: () => ({
        isIntersecting: false,
      }),

      methods: {
        onIntersect(entries, observer) {
          // More information about these options
          // is located here: https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API
          this.isIntersecting = entries[0].isIntersecting;
        },
      },
    });
  </script>
</html>
